<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CyberNet ‚Äî Premium Store</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=DM+Sans:wght@300;400;500&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{
  --bg:#080810;--surface:#0f0f1a;--surface2:#161625;--surface3:#1c1c30;
  --border:rgba(255,255,255,0.07);--text:#f0ede8;--muted:#777;--muted2:#aaa;
  --gold:#c9a84c;--goldl:#e8c96a;--gold-dim:rgba(201,168,76,0.12);
  --accent:#7c6fd4;--danger:#e05555;--success:#4caf7d;--wa:#25D366;
  --fd:'Cormorant Garamond',serif;--fb:'DM Sans',sans-serif;--fa:'Tajawal',sans-serif;
}
html{scroll-behavior:smooth;}
body{background:var(--bg);color:var(--text);font-family:var(--fb);min-height:100vh;}
::-webkit-scrollbar{width:3px;}
::-webkit-scrollbar-track{background:var(--bg);}
::-webkit-scrollbar-thumb{background:var(--gold);border-radius:2px;}

/* Animations */
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes scaleIn{from{opacity:0;transform:scale(0.92)}to{opacity:1;transform:scale(1)}}
@keyframes shimmer{0%{background-position:-200% center}100%{background-position:200% center}}
@keyframes floatY{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes slideUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse2{0%,100%{box-shadow:0 0 0 0 rgba(201,168,76,.35)}50%{box-shadow:0 0 0 14px rgba(201,168,76,0)}}
@keyframes waPulse{0%,100%{box-shadow:0 0 0 0 rgba(37,211,102,.4)}50%{box-shadow:0 0 0 16px rgba(37,211,102,0)}}
@keyframes imgReveal{from{opacity:0;transform:scale(1.06)}to{opacity:1;transform:scale(1)}}

/* Utility */
.fu{animation:fadeUp .6s ease both;}
.fi{animation:fadeIn .35s ease both;}
.si{animation:scaleIn .38s cubic-bezier(.34,1.56,.64,1) both;}

/* Navbar */
#navbar{
  position:sticky;top:0;z-index:100;
  background:rgba(8,8,16,.92);backdrop-filter:blur(22px);
  border-bottom:1px solid var(--border);
  padding:14px 40px;display:flex;align-items:center;justify-content:space-between;
}
.brand{display:flex;align-items:center;gap:10;font-family:var(--fd);font-size:22px;font-weight:300;letter-spacing:.06em;color:var(--gold);}
.nav-actions{display:flex;align-items:center;gap:10;flex-wrap:wrap;}

/* Buttons */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:7px;border:none;border-radius:50px;cursor:pointer;font-family:var(--fb);font-weight:500;letter-spacing:.03em;transition:all .28s cubic-bezier(.34,1.56,.64,1);}
.btn-sm{padding:9px 20px;font-size:13px;}
.btn-md{padding:13px 30px;font-size:14px;}
.btn-full{width:100%;}
.btn-gold{background:linear-gradient(135deg,#c9a84c,#a8893a);color:#080810;box-shadow:0 4px 14px rgba(201,168,76,.2);}
.btn-gold:hover{background:linear-gradient(135deg,#e8c96a,#b8942c);box-shadow:0 10px 28px rgba(201,168,76,.45);transform:translateY(-3px) scale(1.03);}
.btn-ghost{background:transparent;color:var(--muted);border:1px solid var(--border);}
.btn-ghost:hover{color:var(--gold);border-color:var(--gold);transform:translateY(-2px);}
.btn-danger{background:var(--danger);color:#fff;}
.btn-danger:hover{background:#ff6b6b;box-shadow:0 8px 22px rgba(224,85,85,.4);transform:translateY(-2px);}
.btn-wa{background:var(--wa);color:#fff;box-shadow:0 4px 14px rgba(37,211,102,.25);}
.btn-wa:hover{background:#1ebe5d;box-shadow:0 10px 28px rgba(37,211,102,.45);transform:translateY(-3px) scale(1.04);}
.btn:disabled{opacity:.45;cursor:not-allowed;transform:none!important;}

/* Hero */
#hero{text-align:center;padding:90px 24px 60px;position:relative;overflow:hidden;}
.hero-glow{position:absolute;top:0;left:50%;transform:translateX(-50%);width:700px;height:400px;background:radial-gradient(ellipse,rgba(201,168,76,.07),transparent 70%);pointer-events:none;}
.hero-dots{position:absolute;inset:0;background-image:radial-gradient(rgba(201,168,76,.04) 1px,transparent 1px);background-size:32px 32px;pointer-events:none;}
.hero-title{font-family:var(--fd);font-weight:300;font-size:clamp(40px,6vw,80px);letter-spacing:-.025em;line-height:1.1;color:var(--text);}
.hero-gold{background:linear-gradient(135deg,var(--gold),var(--goldl),var(--gold));background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shimmer 3.5s linear infinite;}
.hero-sub{color:var(--muted2);margin:22px auto 0;font-size:15px;max-width:480px;}
.trust-badges{display:flex;justify-content:center;flex-wrap:wrap;gap:10px;margin-top:36px;}
.trust-badge{display:inline-flex;align-items:center;gap:6px;background:var(--gold-dim);border:1px solid rgba(201,168,76,.25);border-radius:50px;padding:7px 18px;font-size:12.5px;color:var(--gold);font-weight:500;}

/* Trust section */
#trust{padding:64px 40px;background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border);}
.trust-inner{max-width:1100px;margin:0 auto;}
.trust-header{text-align:center;margin-bottom:52px;}
.trust-pill{display:inline-flex;align-items:center;gap:7px;background:var(--gold-dim);border:1px solid rgba(201,168,76,.3);border-radius:50px;padding:6px 18px;font-size:12px;color:var(--gold);letter-spacing:.1em;text-transform:uppercase;margin-bottom:18px;}
.trust-title{font-family:var(--fd);font-weight:300;font-size:clamp(28px,4vw,50px);color:var(--text);margin-bottom:14px;}
.trust-sub{color:var(--muted2);font-size:15px;max-width:520px;margin:0 auto;}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:18px;margin-bottom:48px;}
.stat-card{background:var(--surface2);border:1px solid var(--border);border-radius:18px;padding:26px 20px;text-align:center;}
.stat-icon{font-size:22px;margin-bottom:10px;}
.stat-num{font-family:var(--fd);font-size:40px;font-weight:600;color:var(--gold);line-height:1;}
.stat-label{color:var(--muted2);font-size:13px;margin-top:8px;}
.feats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;margin-bottom:40px;}
.feat-card{background:var(--surface2);border:1px solid var(--border);border-radius:18px;padding:26px;display:flex;flex-direction:column;gap:12px;}
.feat-icon{width:46px;height:46px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:22px;}
.feat-title{font-weight:500;font-size:15px;color:var(--text);}
.feat-desc{color:var(--muted);font-size:13px;line-height:1.7;}
.reviews-bar{background:var(--surface2);border:1px solid var(--border);border-radius:18px;padding:24px 30px;display:flex;flex-wrap:wrap;align-items:center;gap:28px;justify-content:center;}
.review-item{text-align:center;min-width:120px;}
.review-stars{color:var(--gold);font-size:14px;letter-spacing:3px;}
.review-text{color:var(--muted2);font-size:13px;margin-top:6px;}
.review-name{color:var(--muted);font-size:11px;margin-top:3px;}
.rating-pill{display:flex;align-items:center;gap:8px;padding:10px 22px;background:var(--gold-dim);border:1px solid rgba(201,168,76,.3);border-radius:50px;color:var(--gold);font-size:13px;font-weight:500;}

/* Products */
#products-section{padding:50px 40px 110px;}
.section-head{margin-bottom:22px;}
.section-title{font-family:var(--fd);font-weight:300;font-size:32px;color:var(--text);margin-bottom:4px;}
.section-count{color:var(--muted);font-size:13.5px;}
.filters{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-bottom:28px;}
.search-wrap{position:relative;flex:1 1 220px;max-width:310px;}
.search-icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:14px;pointer-events:none;}
.search-input{width:100%;background:var(--surface);border:1px solid var(--border);border-radius:50px;padding:10px 14px 10px 38px;color:var(--text);font-family:var(--fb);font-size:13px;outline:none;transition:border-color .2s;}
.search-input:focus{border-color:var(--gold);}
.cat-btn{background:var(--surface);color:var(--muted);border:1px solid var(--border);border-radius:50px;padding:8px 20px;font-size:12px;font-weight:500;cursor:pointer;transition:all .2s;font-family:var(--fb);}
.cat-btn.active{background:var(--gold);color:#080810;border-color:var(--gold);}
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:26px;}
.empty-state{text-align:center;padding:80px 0;color:var(--muted);}
.empty-icon{font-size:48px;margin-bottom:16px;opacity:.3;}

/* Product Card */
.product-card{background:var(--surface);border:1px solid var(--border);border-radius:22px;overflow:hidden;display:flex;flex-direction:column;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;}
.product-card:hover{transform:translateY(-8px);}
.card-img-wrap{position:relative;height:220px;overflow:hidden;flex-shrink:0;}
.card-img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .5s ease;animation:imgReveal .5s ease;}
.product-card:hover .card-img{transform:scale(1.06);}
.img-gradient{position:absolute;bottom:0;left:0;right:0;height:80px;background:linear-gradient(transparent,var(--surface));}
.img-badge{position:absolute;top:14px;right:14px;font-size:10px;font-weight:700;letter-spacing:.09em;text-transform:uppercase;padding:4px 12px;border-radius:50px;}
.card-body{padding:24px 26px 22px;display:flex;flex-direction:column;gap:13px;flex:1;}
.card-glow{position:absolute;top:-50px;right:-50px;width:150px;height:150px;border-radius:50%;filter:blur(72px);opacity:.05;transition:opacity .4s;pointer-events:none;}
.product-card:hover .card-glow{opacity:.22;}
.card-emoji{font-size:48px;line-height:1;display:inline-block;}
.product-card:hover .card-emoji{animation:floatY 2.2s ease-in-out infinite;}
.card-cat{font-size:11px;font-weight:600;letter-spacing:.11em;text-transform:uppercase;}
.card-name{font-family:var(--fd);font-weight:400;font-size:24px;color:var(--text);line-height:1.25;}
.card-desc{color:var(--muted2);font-size:13.5px;line-height:1.75;flex:1;}
.card-footer{display:flex;justify-content:space-between;align-items:center;margin-top:6px;gap:12px;flex-wrap:wrap;}
.card-price{display:flex;align-items:baseline;gap:4px;}
.price-from{font-size:11px;color:var(--muted);}
.price-val{font-family:var(--fd);font-size:28px;font-weight:600;}
.admin-card-actions{display:flex;gap:8px;}
.badge-pill{display:inline-block;align-self:flex-end;font-size:10px;font-weight:600;letter-spacing:.09em;text-transform:uppercase;padding:4px 12px;border-radius:50px;}

/* Modal */
#modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.82);backdrop-filter:blur(12px);z-index:1000;align-items:center;justify-content:center;padding:16px;}
#modal-overlay.open{display:flex;animation:fadeIn .25s ease;}
#modal-box{background:var(--surface2);border:1px solid var(--border);border-radius:28px;padding:36px;width:100%;max-width:740px;max-height:92vh;overflow-y:auto;box-shadow:0 40px 100px rgba(0,0,0,.7);animation:scaleIn .35s cubic-bezier(.34,1.56,.64,1);}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:26px;}
.modal-title{font-family:var(--fd);font-size:28px;font-weight:300;color:var(--text);}
.modal-close{background:var(--surface3);border:1px solid var(--border);color:var(--muted);cursor:pointer;border-radius:50%;width:34px;height:34px;display:flex;align-items:center;justify-content:center;font-size:18px;transition:all .2s;}
.modal-close:hover{color:var(--text);border-color:var(--muted2);}

/* Form */
.form-grid-2{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:16px;}
.form-group{display:flex;flex-direction:column;gap:6px;margin-bottom:14px;}
.form-label{font-size:11px;font-weight:500;color:var(--muted);letter-spacing:.09em;text-transform:uppercase;}
.form-input{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px 16px;color:var(--text);font-family:var(--fb);font-size:14px;outline:none;width:100%;resize:vertical;transition:border-color .2s,box-shadow .2s;}
.form-input:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(201,168,76,.13);}
.form-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:8px;}

/* Image uploader */
.img-uploader{display:flex;flex-direction:column;gap:8px;}
.drop-zone{border:2px dashed var(--border);border-radius:14px;padding:36px 20px;display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;transition:all .2s;background:var(--surface);text-align:center;}
.drop-zone:hover,.drop-zone.drag{border-color:var(--gold);background:rgba(201,168,76,.06);}
.drop-icon{width:52px;height:52px;background:var(--gold-dim);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:22px;border:1px solid rgba(201,168,76,.3);}
.drop-text{font-size:13.5px;color:var(--muted2);}
.drop-hint{font-size:11px;color:var(--muted);}
.img-preview{position:relative;border-radius:14px;overflow:hidden;border:1px solid var(--border);}
.img-preview img{width:100%;height:200px;object-fit:cover;display:block;animation:imgReveal .4s ease;}
.img-actions{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;gap:10px;background:rgba(0,0,0,0);transition:background .2s;}
.img-actions:hover{background:rgba(0,0,0,.6);}
.img-actions button{padding:8px 16px;border-radius:50px;border:none;font-size:12px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:6px;}
.img-btn-change{background:rgba(255,255,255,.95);color:#080810;}
.img-btn-remove{background:rgba(224,85,85,.9);color:#fff;}
.upload-error{font-size:12px;color:var(--danger);}

/* Emoji picker */
.emoji-grid{display:flex;flex-wrap:wrap;gap:6px;}
.emoji-btn{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:7px 9px;font-size:20px;cursor:pointer;transition:all .2s;}
.emoji-btn.active{background:var(--gold-dim);border-color:var(--gold);}

/* Color picker */
.color-grid{display:flex;gap:10px;}
.color-swatch{width:28px;height:28px;border-radius:50%;border:none;cursor:pointer;transition:outline .15s;}

/* Login */
#login-screen{display:none;position:fixed;inset:0;background:var(--bg);z-index:200;align-items:center;justify-content:center;padding:16px;}
#login-screen.open{display:flex;animation:fadeIn .35s ease;}
.login-box{background:var(--surface2);border:1px solid var(--border);border-radius:28px;padding:52px;width:100%;max-width:420px;box-shadow:0 48px 100px rgba(0,0,0,.6);animation:scaleIn .4s cubic-bezier(.34,1.56,.64,1);}
.login-icon{font-size:40px;display:block;text-align:center;margin-bottom:16px;animation:floatY 3s ease-in-out infinite;color:var(--gold);}
.login-title{font-family:var(--fd);font-weight:300;font-size:32px;color:var(--text);text-align:center;}
.login-sub{color:var(--muted);margin-top:8px;font-size:14px;text-align:center;margin-bottom:36px;}
.login-error{background:rgba(224,85,85,.1);border:1px solid rgba(224,85,85,.3);border-radius:8px;padding:10px 14px;color:#ff8a8a;font-size:13px;display:none;}
.login-error.show{display:block;animation:slideUp .25s ease;}
.pw-wrap{position:relative;}
.pw-input{padding-right:44px!important;}
.pw-toggle{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--muted);cursor:pointer;font-size:16px;}
.creds-box{background:rgba(201,168,76,.06);border:1px solid rgba(201,168,76,.2);border-radius:10px;padding:12px 16px;font-size:12px;margin-top:4px;}
.creds-title{color:var(--gold);font-weight:600;margin-bottom:6px;letter-spacing:.05em;text-transform:uppercase;font-size:10px;}
.creds-val{color:var(--muted2);display:flex;flex-direction:column;gap:4px;}
.creds-val strong{color:var(--gold);font-family:monospace;}

/* Footer */
#footer{border-top:1px solid var(--border);padding:28px 40px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px;color:var(--muted);font-size:12px;}
.footer-brand{font-family:var(--fd);font-size:17px;color:var(--gold);font-weight:300;}
.footer-wa{display:flex;align-items:center;gap:6px;color:var(--muted2);font-size:13px;text-decoration:none;}

/* Toast */
#toast{position:fixed;bottom:32px;left:32px;z-index:2000;border-radius:14px;padding:14px 22px;font-size:14px;box-shadow:0 8px 32px rgba(0,0,0,.4);animation:slideUp .3s ease;display:none;align-items:center;gap:8px;}
#toast.show{display:flex;}
#toast.success{background:rgba(76,175,125,.15);border:1px solid rgba(76,175,125,.4);color:#7dd4aa;}
#toast.danger{background:rgba(224,85,85,.15);border:1px solid rgba(224,85,85,.4);color:#ff8a8a;}

/* WA Assistant */
#wa-btn{position:fixed;bottom:32px;right:32px;z-index:999;display:flex;flex-direction:column;align-items:flex-end;gap:12px;}
.wa-bubble{background:var(--surface2);border:1px solid var(--border);border-radius:16px;padding:14px 18px;max-width:210px;box-shadow:0 16px 40px rgba(0,0,0,.45);position:relative;display:none;animation:slideUp .4s ease;}
.wa-bubble.show{display:block;}
.wa-bubble-close{position:absolute;top:8px;right:8px;background:none;border:none;color:var(--muted);cursor:pointer;font-size:14px;}
.wa-bubble p{font-size:13px;color:var(--text);line-height:1.65;padding-right:16px;}
.wa-online{font-size:11px;color:var(--success);margin-top:5px;display:flex;align-items:center;gap:4px;}
.wa-dot{width:6px;height:6px;border-radius:50%;background:var(--success);display:inline-block;}
.wa-float{display:flex;align-items:center;gap:10px;background:var(--wa);padding:16px;border-radius:50px;cursor:pointer;animation:waPulse 2.5s ease infinite;transition:all .35s cubic-bezier(.34,1.56,.64,1);text-decoration:none;color:#fff;}
.wa-float:hover{background:#1ebe5d;padding:14px 22px;transform:scale(1.07);box-shadow:0 14px 36px rgba(37,211,102,.55);}
.wa-label{font-size:14px;font-weight:500;white-space:nowrap;display:none;}
.wa-float:hover .wa-label{display:inline;}

/* Admin badge */
.admin-badge{display:inline-block;background:rgba(124,111,212,.15);border:1px solid rgba(124,111,212,.4);border-radius:50px;padding:6px 20px;font-size:12px;color:var(--accent);letter-spacing:.1em;text-transform:uppercase;margin-bottom:24px;animation:pulse2 2s ease infinite;}

/* RTL adjustments */
[dir=rtl] .search-icon{left:auto;right:14px;}
[dir=rtl] .search-input{padding:10px 38px 10px 14px;}
[dir=rtl] .img-badge{left:14px;right:auto;}
[dir=rtl] .badge-pill{align-self:flex-start;}
[dir=rtl] .wa-bubble p{padding-right:0;padding-left:16px;}
[dir=rtl] .wa-bubble-close{right:auto;left:8px;}
[dir=rtl] #wa-btn{left:32px;right:auto;align-items:flex-start;}
[dir=rtl] #toast{left:auto;right:32px;}
[dir=rtl] .card-name{font-family:var(--fa);font-size:20px;font-weight:600;}
[dir=rtl] .trust-title,[dir=rtl] .section-title,[dir=rtl] .footer-brand{font-family:var(--fa);}
[dir=rtl] .hero-title{font-family:var(--fa);}
[dir=rtl] .brand{font-family:var(--fa);font-weight:700;}
[dir=rtl] .img-badge{right:auto;left:14px;}

@media(max-width:600px){
  #navbar{padding:12px 16px;}
  #hero{padding:60px 16px 40px;}
  #trust,#products-section{padding-left:16px;padding-right:16px;}
  .products-grid{grid-template-columns:1fr;}
  .form-grid-2{grid-template-columns:1fr;}
  #modal-box{padding:24px;}
  .login-box{padding:32px 24px;}
}
</style>
</head>
<body>

<!-- ‚îÄ‚îÄ NAVBAR ‚îÄ‚îÄ -->
<nav id="navbar">
  <div class="brand">üõçÔ∏è <span id="brand-text">CyberNet</span></div>
  <div class="nav-actions" id="nav-actions"></div>
</nav>

<!-- ‚îÄ‚îÄ HERO ‚îÄ‚îÄ -->
<header id="hero">
  <div class="hero-glow"></div>
  <div class="hero-dots"></div>
  <div id="admin-badge-wrap"></div>
  <div class="fu" style="animation-delay:.1s">
    <h1 class="hero-title">
      <span id="hero-line1">Curated for the</span><br>
      <span class="hero-gold" id="hero-line2">discerning few</span>
    </h1>
  </div>
  <p class="hero-sub fu" style="animation-delay:.25s" id="hero-sub">Exceptional products. Honest prices. Delivered with care.</p>
  <div class="trust-badges fu" style="animation-delay:.4s" id="trust-badges"></div>
</header>

<!-- ‚îÄ‚îÄ TRUST SECTION ‚îÄ‚îÄ -->
<section id="trust">
  <div class="trust-inner">
    <div class="trust-header">
      <div class="trust-pill">‚ú¶ <span id="trust-pill-text">Trusted & Verified</span></div>
      <h2 class="trust-title" id="trust-title">Why Thousands Trust Us</h2>
      <p class="trust-sub" id="trust-sub">We've built our reputation on three pillars: quality, honesty, and genuine care.</p>
    </div>
    <div class="stats-grid" id="stats-grid"></div>
    <div class="feats-grid" id="feats-grid"></div>
    <div class="reviews-bar" id="reviews-bar"></div>
  </div>
</section>

<!-- ‚îÄ‚îÄ PRODUCTS ‚îÄ‚îÄ -->
<section id="products-section">
  <div class="section-head">
    <h2 class="section-title" id="products-title">Our Featured Products</h2>
    <p class="section-count" id="products-count"></p>
  </div>
  <div class="filters">
    <div class="search-wrap">
      <span class="search-icon">üîç</span>
      <input class="search-input" id="search-input" type="text" placeholder="Search products‚Ä¶">
    </div>
    <div id="cat-filters"></div>
  </div>
  <div id="products-grid" class="products-grid"></div>
  <div id="empty-state" class="empty-state" style="display:none">
    <div class="empty-icon">üì¶</div>
    <p id="empty-text">No products found.</p>
    <div id="empty-admin-btn" style="margin-top:20px;display:none"></div>
  </div>
</section>

<!-- ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ -->
<footer id="footer">
  <span class="footer-brand" id="footer-brand">CyberNet</span>
  <a class="footer-wa" href="https://wa.me/249903440956" target="_blank">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="#c9a84c"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    +249 90 344 0956
  </a>
  <span id="footer-count"></span>
</footer>

<!-- ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ -->
<div id="modal-overlay">
  <div id="modal-box">
    <div class="modal-header">
      <h2 class="modal-title" id="modal-title">New Product</h2>
      <button class="modal-close" onclick="closeModal()">‚úï</button>
    </div>
    <div id="modal-body"></div>
  </div>
</div>

<!-- ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ -->
<div id="login-screen">
  <div class="login-box">
    <span class="login-icon">‚ú¶</span>
    <h1 class="login-title" id="login-title">Admin Portal</h1>
    <p class="login-sub" id="login-sub">Sign in to manage CyberNet</p>
    <div class="form-group">
      <label class="form-label" id="lbl-user">Username</label>
      <input class="form-input" id="login-user" type="text" placeholder="CyberNet" onkeydown="if(event.key==='Enter')doLogin()">
    </div>
    <div class="form-group">
      <label class="form-label" id="lbl-pw">Password</label>
      <div class="pw-wrap">
        <input class="form-input pw-input" id="login-pw" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeydown="if(event.key==='Enter')doLogin()">
        <button class="pw-toggle" onclick="togglePw()" id="pw-eye">üëÅÔ∏è</button>
      </div>
    </div>
    <div class="login-error" id="login-error">Invalid credentials. Access denied.</div>
    <button class="btn btn-gold btn-md btn-full" id="login-btn" onclick="doLogin()" style="margin-top:8px;margin-bottom:16px">Sign In ‚Üí</button>
    <div class="creds-box">
      <div class="creds-title">üîê <span id="creds-lbl">Credentials</span></div>
      <div class="creds-val">
        <span>User: <strong>CyberNet</strong></span>
        <span>Pass: <strong style="font-size:11px">Cy@N3t#Secure!99</strong></span>
      </div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ WA ASSISTANT ‚îÄ‚îÄ -->
<div id="wa-btn">
  <div class="wa-bubble" id="wa-bubble">
    <button class="wa-bubble-close" onclick="document.getElementById('wa-bubble').classList.remove('show')">‚úï</button>
    <p id="wa-bubble-text">üëã Need help? Chat with us now!</p>
    <div class="wa-online"><span class="wa-dot"></span><span id="wa-online-text">We reply in minutes</span></div>
  </div>
  <a class="wa-float" id="wa-float" href="#" target="_blank">
    <svg width="26" height="26" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    <span class="wa-label" id="wa-label">Chat Support</span>
  </a>
</div>

<!-- ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ -->
<div id="toast"></div>

<script>
// ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const WHATSAPP = "249903440956";
const ADMIN_CREDS = { username:"CyberNet", password:"Cy@N3t#Secure!99" };
const STORAGE_KEY = "cybrnet_html_v4";
const COLORS = ["#c9a84c","#7c6fd4","#d4836f","#4caf7d","#60b8d4","#d46fb1","#9ab87a"];
const EMOJIS = ["üõçÔ∏è","‚åö","üéß","‚òï","üíª","üì±","üéÆ","üëó","üíé","üåø","üîÆ","üß¥","üéí","üñ•Ô∏è","üì∏","üéµ","üè†","‚úàÔ∏è"];
const waLink = msg => `https://wa.me/${WHATSAPP}?text=${encodeURIComponent(msg)}`;

// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let lang = "en";
let isAdmin = false;
let currentCat = "All";
let searchQuery = "";
let editingId = null;
let formImage = "";

let products = [
  {id:"1",name:"Obsidian Watch",nameAr:"ÿ≥ÿßÿπÿ© ÿ£Ÿàÿ®ÿ≥ŸäÿØŸäÿßŸÜ",category:"Accessories",categoryAr:"ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™",price:"299",description:"Precision-engineered timepiece with sapphire glass and matte black finish.",descriptionAr:"ÿ≥ÿßÿπÿ© ŸÖÿµŸÖŸÖÿ© ÿ®ÿØŸÇÿ© ŸÖÿπ ÿ≤ÿ¨ÿßÿ¨ ŸäÿßŸÇŸàÿ™Ÿä Ÿàÿ∑ŸÑÿßÿ° ÿ£ÿ≥ŸàÿØ ŸÖÿ∑ŸÅÿ£.",badge:"Best Seller",badgeAr:"ÿßŸÑÿ£ŸÉÿ´ÿ± ŸÖÿ®ŸäÿπÿßŸã",emoji:"‚åö",color:"#c9a84c",image:""},
  {id:"2",name:"Aura Headphones",nameAr:"ÿ≥ŸÖÿßÿπÿßÿ™ ÿ£Ÿàÿ±ÿß",category:"Electronics",categoryAr:"ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿßÿ™",price:"189",description:"40-hour battery, adaptive noise cancellation, audiophile-grade sound.",descriptionAr:"ÿ®ÿ∑ÿßÿ±Ÿäÿ© 40 ÿ≥ÿßÿπÿ©ÿå ÿ•ŸÑÿ∫ÿßÿ° ÿ∂Ÿàÿ∂ÿßÿ° ÿ™ŸÉŸäŸÅŸäÿå ÿµŸàÿ™ ÿßÿ≠ÿ™ÿ±ÿßŸÅŸä.",badge:"New",badgeAr:"ÿ¨ÿØŸäÿØ",emoji:"üéß",color:"#7c6fd4",image:""},
  {id:"3",name:"Ember Smart Mug",nameAr:"ŸÉŸàÿ® ÿ•ŸäŸÖÿ®ÿ± ÿßŸÑÿ∞ŸÉŸä",category:"Lifestyle",categoryAr:"ÿ£ÿ≥ŸÑŸàÿ® ÿßŸÑÿ≠Ÿäÿßÿ©",price:"79",description:"Temperature control 120‚Äì145¬∞F. Your coffee stays perfect, always.",descriptionAr:"ÿ™ÿ≠ŸÉŸÖ ŸÅŸä ÿØÿ±ÿ¨ÿ© ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©. ŸÇŸáŸàÿ™ŸÉ ŸÖÿ´ÿßŸÑŸäÿ© ÿØÿßÿ¶ŸÖÿßŸã.",badge:"",badgeAr:"",emoji:"‚òï",color:"#d4836f",image:""},
];

// ‚îÄ‚îÄ TRANSLATIONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const T = {
  en:{
    dir:"ltr",brand:"CyberNet",heroL1:"Curated for the",heroL2:"discerning few",
    heroSub:"Exceptional products. Honest prices. Delivered with care.",
    badge1:"üõ°Ô∏è Verified Quality",badge2:"‚ö° Reply in Minutes",badge3:"‚ù§Ô∏è Satisfaction Guaranteed",
    trustPill:"Trusted & Verified",trustTitle:"Why Thousands Trust Us",
    trustSub:"We've built our reputation on three pillars: quality, honesty, and genuine care.",
    stat1:"Happy Customers",stat2:"Products Listed",stat3:"Countries Served",stat4:"Satisfaction Rate",
    feat1:"Verified Quality",feat1d:"Every product is hand-picked and quality-checked before listing.",
    feat2:"Fast Response",  feat2d:"We reply on WhatsApp within minutes, 7 days a week.",
    feat3:"Secure Orders",  feat3d:"Your order details stay private between you and us.",
    feat4:"Easy Returns",   feat4d:"Not happy? We'll make it right ‚Äî no questions asked.",
    reviews:[{text:"Amazing product!",name:"‚Äî Sarah M."},{text:"Excellent experience",name:"‚Äî Ahmed K."},{text:"Super fast response",name:"‚Äî Layla R."}],
    rating:"4.9 / 5 Rating",
    productsTitle:"Our Featured Products",
    productsCount:(n)=>`${n} product${n!==1?"s":""} available`,
    searchPH:"Search products‚Ä¶",all:"All",from:"from",buyNow:"Order on WhatsApp",
    adminLogin:"üîê Admin Login",adminMode:"‚ú¶ Admin Mode Active",exitAdmin:"‚Ü© Exit Admin",
    addBtn:"+ Add Product",editBtn:"‚úèÔ∏è",deleteBtn:"üóëÔ∏è",confirm:"Confirm?",
    productTitle:"New Product",editTitle:"Edit Product",
    uploadImage:"Product Image",uploadBtn:"Click or drag to upload",uploadHint:"PNG, JPG, WEBP up to 5MB",
    changeImg:"üì∑ Change",removeImg:"üóë Remove",
    labelNameEN:"Product Name (EN)",labelNameAR:"Product Name (AR)",
    labelCatEN:"Category (EN)",labelCatAR:"Category (AR)",
    labelPrice:"Price (USD)",labelBadgeEN:"Badge (EN)",labelBadgeAR:"Badge (AR)",
    labelDescEN:"Description (EN)",labelDescAR:"Description (AR)",
    labelIcon:"Icon (fallback if no image)",labelColor:"Accent Color",
    namePH:"e.g. Silk Pillow",catPH:"e.g. Lifestyle",pricePH:"99",badgePH:"New / Hot / Sale",
    descPH:"Describe what makes this product special‚Ä¶",
    cancel:"Cancel",saveChanges:"Save Changes",addProduct:"Add Product",
    noProducts:"No products found.",noProductsAdmin:"Add your first one!",
    loginTitle:"Admin Portal",loginSub:"Sign in to manage CyberNet",
    userLbl:"Username",pwLbl:"Password",signIn:"Sign In ‚Üí",credsLbl:"Credentials",
    productUpdated:"Product updated!",productAdded:"Product added!",productRemoved:"Product removed",
    waBubble:"üëã Need help? Chat with us now!",waOnline:"We reply in minutes",
    waLabel:"Chat Support",waAssistMsg:"Hello! üëã I want to inquire about your products. Can you help me?",
    whatsappMsg:(n,pr,c,d)=>`Hello! üëã I'm interested in:\n\n*${n}*\nCategory: ${c}\nPrice: $${pr}\n\n${d}\n\nCould you give me more details?`,
    langBtn:"ÿπÿ±ÿ®Ÿä",footerCount:(n)=>`${n} product${n!==1?"s":""} available`,
  },
  ar:{
    dir:"rtl",brand:"ÿ≥ÿßŸäÿ®ÿ±ŸÜÿ™",heroL1:"ŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÖŸÜÿ™ŸÇÿßÿ©",heroL2:"ŸÑÿ£ÿµÿ≠ÿßÿ® ÿßŸÑÿ∞ŸàŸÇ ÿßŸÑÿ±ŸÅŸäÿπ",
    heroSub:"ŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßÿ≥ÿ™ÿ´ŸÜÿßÿ¶Ÿäÿ©. ÿ£ÿ≥ÿπÿßÿ± ÿµÿßÿØŸÇÿ©. ÿ™ŸàÿµŸäŸÑ ÿ®ÿπŸÜÿßŸäÿ©.",
    badge1:"üõ°Ô∏è ÿ¨ŸàÿØÿ© ŸÖŸàÿ´ŸëŸÇÿ©",badge2:"‚ö° ÿ±ÿØ ÿÆŸÑÿßŸÑ ÿØŸÇÿßÿ¶ŸÇ",badge3:"‚ù§Ô∏è ÿ∂ŸÖÿßŸÜ ÿßŸÑÿ±ÿ∂ÿß",
    trustPill:"ŸÖŸàÿ´ŸàŸÇ ŸàŸÖÿπÿ™ŸÖÿØ",trustTitle:"ŸÑŸÖÿßÿ∞ÿß Ÿäÿ´ŸÇ ÿ®ŸÜÿß ÿßŸÑÿ¢ŸÑÿßŸÅÿü",
    trustSub:"ÿ®ŸÜŸäŸÜÿß ÿ≥ŸÖÿπÿ™ŸÜÿß ÿπŸÑŸâ ÿ´ŸÑÿßÿ´ÿ© ÿ£ÿ±ŸÉÿßŸÜ: ÿßŸÑÿ¨ŸàÿØÿ© ŸàÿßŸÑÿ£ŸÖÿßŸÜÿ© ŸàÿßŸÑÿßŸáÿ™ŸÖÿßŸÖ ÿßŸÑÿ≠ŸÇŸäŸÇŸä.",
    stat1:"ÿπŸÖŸäŸÑ ÿ≥ÿπŸäÿØ",stat2:"ŸÖŸÜÿ™ÿ¨ ŸÖÿπÿ±Ÿàÿ∂",stat3:"ÿØŸàŸÑÿ© ŸÜÿÆÿØŸÖŸáÿß",stat4:"ŸÜÿ≥ÿ®ÿ© ÿßŸÑÿ±ÿ∂ÿß",
    feat1:"ÿ¨ŸàÿØÿ© ŸÖŸàÿ´ŸëŸÇÿ©", feat1d:"ŸÉŸÑ ŸÖŸÜÿ™ÿ¨ ŸäŸèÿÆÿ™ÿßÿ± ÿ®ÿπŸÜÿßŸäÿ© ŸàŸäŸèŸÅÿ≠ÿµ ŸÇÿ®ŸÑ ÿßŸÑÿπÿ±ÿ∂.",
    feat2:"ÿ±ÿØ ÿ≥ÿ±Ÿäÿπ",     feat2d:"ŸÜÿ±ÿØ ÿπŸÑŸâ Ÿàÿßÿ™ÿ≥ÿßÿ® ÿÆŸÑÿßŸÑ ÿØŸÇÿßÿ¶ŸÇÿå 7 ÿ£ŸäÿßŸÖ ŸÅŸä ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ.",
    feat3:"ÿ∑ŸÑÿ®ÿßÿ™ ÿ¢ŸÖŸÜÿ©",  feat3d:"ÿ™ŸÅÿßÿµŸäŸÑ ÿ∑ŸÑÿ®ŸÉ ÿ™ÿ®ŸÇŸâ ÿÆÿßÿµÿ© ÿ®ŸäŸÜŸÉ Ÿàÿ®ŸäŸÜŸÜÿß.",
    feat4:"ÿ•ÿ±ÿ¨ÿßÿπ ÿ≥ŸáŸÑ",   feat4d:"ÿ∫Ÿäÿ± ÿ±ÿßÿ∂Ÿçÿü ÿ≥ŸÜÿµŸÑÿ≠ ÿßŸÑÿ£ŸÖÿ± ÿ®ÿØŸàŸÜ ÿ£ÿ≥ÿ¶ŸÑÿ©.",
    reviews:[{text:"ŸÖŸÜÿ™ÿ¨ ÿ±ÿßÿ¶ÿπÿå ÿ¥ŸÉÿ±ÿßŸã!",name:"‚Äî Sarah M."},{text:"ÿ™ÿ¨ÿ±ÿ®ÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ©",name:"‚Äî Ahmed K."},{text:"ÿÆÿØŸÖÿ© ÿ≥ÿ±Ÿäÿπÿ© ÿ¨ÿØÿßŸã",name:"‚Äî Layla R."}],
    rating:"Ÿ§.Ÿ©/Ÿ• ÿ™ŸÇŸäŸäŸÖ",
    productsTitle:"ŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÜÿß ÿßŸÑŸÖŸÖŸäÿ≤ÿ©",
    productsCount:(n)=>`${n} ŸÖŸÜÿ™ÿ¨ ŸÖÿ™ÿßÿ≠`,
    searchPH:"ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™‚Ä¶",all:"ÿßŸÑŸÉŸÑ",from:"ŸÖŸÜ",buyNow:"ÿßÿ∑ŸÑÿ® ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ®",
    adminLogin:"üîê ÿØÿÆŸàŸÑ ÿßŸÑÿ•ÿØÿßÿ±ÿ©",adminMode:"‚ú¶ Ÿàÿ∂ÿπ ÿßŸÑÿ•ÿØÿßÿ±ÿ© ŸÜÿ¥ÿ∑",exitAdmin:"‚Ü© ÿÆÿ±Ÿàÿ¨",
    addBtn:"+ ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÜÿ™ÿ¨",editBtn:"‚úèÔ∏è",deleteBtn:"üóëÔ∏è",confirm:"ÿ™ÿ£ŸÉŸäÿØÿü",
    productTitle:"ŸÖŸÜÿ™ÿ¨ ÿ¨ÿØŸäÿØ",editTitle:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖŸÜÿ™ÿ¨",
    uploadImage:"ÿµŸàÿ±ÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨",uploadBtn:"ÿßÿ∂ÿ∫ÿ∑ ÿ£Ÿà ÿßÿ≥ÿ≠ÿ® ŸÑÿ±ŸÅÿπ ÿµŸàÿ±ÿ©",uploadHint:"PNGÿå JPGÿå WEBP ÿ≠ÿ™Ÿâ 5 ŸÖŸäÿ¨ÿß",
    changeImg:"üì∑ ÿ™ÿ∫ŸäŸäÿ±",removeImg:"üóë ÿ≠ÿ∞ŸÅ",
    labelNameEN:"ÿßÿ≥ŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨ (EN)",labelNameAR:"ÿßÿ≥ŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨ (AR)",
    labelCatEN:"ÿßŸÑŸÅÿ¶ÿ© (EN)",labelCatAR:"ÿßŸÑŸÅÿ¶ÿ© (AR)",
    labelPrice:"ÿßŸÑÿ≥ÿπÿ± (ÿØŸàŸÑÿßÿ±)",labelBadgeEN:"ÿ¥ÿßÿ±ÿ© (EN)",labelBadgeAR:"ÿ¥ÿßÿ±ÿ© (AR)",
    labelDescEN:"ÿßŸÑŸàÿµŸÅ (EN)",labelDescAR:"ÿßŸÑŸàÿµŸÅ (AR)",
    labelIcon:"ÿ£ŸäŸÇŸàŸÜÿ© (ÿ®ÿØŸäŸÑ ÿ•ÿ∞ÿß ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿµŸàÿ±ÿ©)",labelColor:"ŸÑŸàŸÜ ÿßŸÑÿ™ŸÖŸäŸäÿ≤",
    namePH:"ŸÖÿ´ŸÑÿßŸã: Ÿàÿ≥ÿßÿØÿ© ÿ≠ÿ±Ÿäÿ±Ÿäÿ©",catPH:"ÿ£ÿ≥ŸÑŸàÿ® ÿßŸÑÿ≠Ÿäÿßÿ©",pricePH:"Ÿ©Ÿ©",badgePH:"ÿ¨ÿØŸäÿØ / ÿ±ÿßÿ¶ÿ¨ / ÿ™ÿÆŸÅŸäÿ∂",
    descPH:"ÿµŸÅ ŸÖÿß Ÿäÿ¨ÿπŸÑ Ÿáÿ∞ÿß ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÖŸÖŸäÿ≤ÿßŸã‚Ä¶",
    cancel:"ÿ•ŸÑÿ∫ÿßÿ°",saveChanges:"ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™",addProduct:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÜÿ™ÿ¨",
    noProducts:"ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸÜÿ™ÿ¨ÿßÿ™.",noProductsAdmin:"ÿ£ÿ∂ŸÅ ŸÖŸÜÿ™ÿ¨ŸÉ ÿßŸÑÿ£ŸàŸÑ!",
    loginTitle:"ÿ®Ÿàÿßÿ®ÿ© ÿßŸÑÿ•ÿØÿßÿ±ÿ©",loginSub:"ÿ≥ÿ¨ŸÑ ÿØÿÆŸàŸÑŸÉ ŸÑÿ•ÿØÿßÿ±ÿ© ÿ≥ÿßŸäÿ®ÿ±ŸÜÿ™",
    userLbl:"ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ",pwLbl:"ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",signIn:"‚Üê ÿØÿÆŸàŸÑ",credsLbl:"ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿØÿÆŸàŸÑ",
    productUpdated:"ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÜÿ™ÿ¨!",productAdded:"ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨!",productRemoved:"ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖŸÜÿ™ÿ¨",
    waBubble:"üëã ŸáŸÑ ÿ™ÿ≠ÿ™ÿßÿ¨ ŸÖÿ≥ÿßÿπÿØÿ©ÿü ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß ÿßŸÑÿ¢ŸÜ!",waOnline:"ŸÜÿ±ÿØ ÿÆŸÑÿßŸÑ ÿØŸÇÿßÿ¶ŸÇ",
    waLabel:"ÿØÿπŸÖ ŸÅŸàÿ±Ÿä",waAssistMsg:"ŸÖÿ±ÿ≠ÿ®ÿßŸã! üëã ÿ£ÿ±ŸäÿØ ÿßŸÑÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ± ÿπŸÜ ŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÉŸÖ. ŸáŸÑ ŸäŸÖŸÉŸÜŸÉŸÖ ŸÖÿ≥ÿßÿπÿØÿ™Ÿäÿü",
    whatsappMsg:(n,pr,c,d)=>`ŸÖÿ±ÿ≠ÿ®ÿßŸã! üëã ÿ£ÿ±ŸäÿØ ÿ∑ŸÑÿ®:\n\n*${n}*\nÿßŸÑŸÅÿ¶ÿ©: ${c}\nÿßŸÑÿ≥ÿπÿ±: $${pr}\n\n${d}\n\nŸáŸÑ ŸäŸÖŸÉŸÜŸÉ ÿ™ÿ≤ŸàŸäÿØŸä ÿ®ŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑÿü`,
    langBtn:"English",footerCount:(n)=>`${n} ŸÖŸÜÿ™ÿ¨ ŸÖÿ™ÿßÿ≠`,
  }
};

// ‚îÄ‚îÄ STORAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function saveProducts(){try{localStorage.setItem(STORAGE_KEY,JSON.stringify(products));}catch(e){}}
function loadProducts(){try{const v=localStorage.getItem(STORAGE_KEY);if(v)products=JSON.parse(v);}catch(e){}}

// ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let toastTimer;
function showToast(msg,type="success"){
  const t=document.getElementById("toast");
  t.textContent=(type==="success"?"‚úì ":"üóë ")+msg;
  t.className="show "+type;
  clearTimeout(toastTimer);
  toastTimer=setTimeout(()=>{t.className="";},3000);
}

// ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function render(){
  const t=T[lang];
  const isAr=lang==="ar";
  document.documentElement.setAttribute("dir",t.dir);
  document.documentElement.setAttribute("lang",lang);

  // Font on body
  document.body.style.fontFamily=isAr?"var(--fa)":"var(--fb)";

  // Brand
  document.getElementById("brand-text").textContent=t.brand;
  document.getElementById("footer-brand").textContent=t.brand;
  document.getElementById("footer-count").textContent=t.footerCount(products.length);

  // Nav
  renderNav(t,isAr);

  // Hero
  document.getElementById("hero-line1").textContent=t.heroL1;
  document.getElementById("hero-line2").textContent=t.heroL2;
  document.getElementById("hero-sub").textContent=t.heroSub;
  if(isAr) document.querySelector(".hero-title").style.fontFamily="var(--fa)";
  else document.querySelector(".hero-title").style.fontFamily="var(--fd)";
  renderHeroBadges(t);
  renderAdminBadge(t);

  // Trust
  document.getElementById("trust-pill-text").textContent=t.trustPill;
  document.getElementById("trust-title").textContent=t.trustTitle;
  document.getElementById("trust-title").style.fontFamily=isAr?"var(--fa)":"var(--fd)";
  document.getElementById("trust-sub").textContent=t.trustSub;
  document.getElementById("trust-sub").style.fontFamily=isAr?"var(--fa)":"var(--fb)";
  renderStats(t,isAr);
  renderFeats(t,isAr);
  renderReviews(t,isAr);

  // Products
  document.getElementById("products-title").textContent=t.productsTitle;
  document.getElementById("products-title").style.fontFamily=isAr?"var(--fa)":"var(--fd)";
  document.getElementById("search-input").placeholder=t.searchPH;
  document.getElementById("search-input").style.fontFamily=isAr?"var(--fa)":"var(--fb)";
  renderCats(t,isAr);
  renderProducts(t,isAr);

  // WA
  document.getElementById("wa-bubble-text").textContent=t.waBubble;
  document.getElementById("wa-online-text").textContent=t.waOnline;
  document.getElementById("wa-label").textContent=t.waLabel;
  document.getElementById("wa-float").href=waLink(t.waAssistMsg);
  document.getElementById("wa-bubble-text").style.fontFamily=isAr?"var(--fa)":"var(--fb)";
  document.getElementById("wa-online-text").style.fontFamily=isAr?"var(--fa)":"var(--fb)";
  document.getElementById("wa-label").style.fontFamily=isAr?"var(--fa)":"var(--fb)";

  // Login
  document.getElementById("login-title").textContent=t.loginTitle;
  document.getElementById("login-title").style.fontFamily=isAr?"var(--fa)":"var(--fd)";
  document.getElementById("login-sub").textContent=t.loginSub;
  document.getElementById("lbl-user").textContent=t.userLbl;
  document.getElementById("lbl-pw").textContent=t.pwLbl;
  document.getElementById("login-btn").textContent=t.signIn;
  document.getElementById("creds-lbl").textContent=t.credsLbl;
}

function renderNav(t,isAr){
  const el=document.getElementById("nav-actions");
  let h=`<button class="btn btn-ghost btn-sm" onclick="toggleLang()" style="font-family:var(--fb)">üåê ${t.langBtn}</button>`;
  if(isAdmin){
    h+=`<button class="btn btn-gold btn-sm" onclick="openAddModal()" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">+ ${t.addBtn.replace('+ ','')}</button>`;
    h+=`<button class="btn btn-ghost btn-sm" onclick="exitAdmin()" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">‚Ü© ${t.exitAdmin.replace('‚Ü© ','')}</button>`;
  } else {
    h+=`<button class="btn btn-ghost btn-sm" onclick="showLogin()" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">üîê ${t.adminLogin.replace('üîê ','')}</button>`;
  }
  el.innerHTML=h;
}

function renderAdminBadge(t){
  const el=document.getElementById("admin-badge-wrap");
  el.innerHTML=isAdmin?`<div class="admin-badge" style="font-family:${lang==='ar'?'var(--fa)':'var(--fb)'}">${t.adminMode}</div>`:'';
}

function renderHeroBadges(t){
  const el=document.getElementById("trust-badges");
  el.innerHTML=[t.badge1,t.badge2,t.badge3].map(b=>`<span class="trust-badge" style="font-family:${lang==='ar'?'var(--fa)':'var(--fb)'}">${b}</span>`).join('');
}

function renderStats(t,isAr){
  const data=[
    {num:"2,400+",label:t.stat1,icon:"üë•"},
    {num:"150+",label:t.stat2,icon:"üì¶"},
    {num:"12",label:t.stat3,icon:"üåç"},
    {num:"98%",label:t.stat4,icon:"‚≠ê"},
  ];
  document.getElementById("stats-grid").innerHTML=data.map((s,i)=>`
    <div class="stat-card fu" style="animation-delay:${i*.1}s">
      <div class="stat-icon">${s.icon}</div>
      <div class="stat-num">${s.num}</div>
      <div class="stat-label" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${s.label}</div>
    </div>`).join('');
}

function renderFeats(t,isAr){
  const data=[
    {icon:"üõ°Ô∏è",title:t.feat1,desc:t.feat1d,color:"#c9a84c"},
    {icon:"‚ö°",title:t.feat2,desc:t.feat2d,color:"#4caf7d"},
    {icon:"üîí",title:t.feat3,desc:t.feat3d,color:"#7c6fd4"},
    {icon:"üîÑ",title:t.feat4,desc:t.feat4d,color:"#60b8d4"},
  ];
  document.getElementById("feats-grid").innerHTML=data.map((f,i)=>`
    <div class="feat-card fu" style="animation-delay:${i*.1+.2}s">
      <div class="feat-icon" style="background:${f.color}18;border:1px solid ${f.color}33">${f.icon}</div>
      <div class="feat-title" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${f.title}</div>
      <div class="feat-desc" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${f.desc}</div>
    </div>`).join('');
}

function renderReviews(t,isAr){
  const revs=t.reviews.map(r=>`
    <div class="review-item">
      <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <div class="review-text" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${r.text}</div>
      <div class="review-name">${r.name}</div>
    </div>`).join('');
  document.getElementById("reviews-bar").innerHTML=revs+`
    <div class="rating-pill" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">‚òÖ ${t.rating}</div>`;
}

function renderCats(t,isAr){
  const cats=["All",...new Set(products.map(p=>p.category).filter(Boolean))];
  document.getElementById("cat-filters").innerHTML=cats.map(c=>`
    <button class="cat-btn${currentCat===c?' active':''}" onclick="setCat('${c}')"
      style="font-family:${isAr?'var(--fa)':'var(--fb)'}">
      ${c==="All"?t.all:c}
    </button>`).join('');
}

function renderProducts(t,isAr){
  const filtered=products.filter(p=>{
    const n=isAr&&p.nameAr?p.nameAr:p.name;
    const d=isAr&&p.descriptionAr?p.descriptionAr:p.description;
    return (n.toLowerCase().includes(searchQuery.toLowerCase())||
            d.toLowerCase().includes(searchQuery.toLowerCase()))&&
           (currentCat==="All"||p.category===currentCat);
  });

  document.getElementById("products-count").textContent=t.productsCount(filtered.length);
  document.getElementById("footer-count").textContent=t.footerCount(products.length);

  const grid=document.getElementById("products-grid");
  const empty=document.getElementById("empty-state");
  const emptyText=document.getElementById("empty-text");
  const emptyAdminBtn=document.getElementById("empty-admin-btn");

  if(filtered.length===0){
    grid.style.display="none";
    empty.style.display="block";
    emptyText.textContent=t.noProducts+(isAdmin?" "+t.noProductsAdmin:"");
    emptyText.style.fontFamily=isAr?"var(--fa)":"var(--fb)";
    if(isAdmin){
      emptyAdminBtn.style.display="block";
      emptyAdminBtn.innerHTML=`<button class="btn btn-gold btn-md" onclick="openAddModal()" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">+ ${t.addProduct}</button>`;
    } else emptyAdminBtn.style.display="none";
    return;
  }
  grid.style.display="grid";
  empty.style.display="none";

  grid.innerHTML=filtered.map((p,i)=>{
    const accent=p.color||COLORS[i%COLORS.length];
    const name=isAr&&p.nameAr?p.nameAr:p.name;
    const cat=isAr&&p.categoryAr?p.categoryAr:p.category;
    const desc=isAr&&p.descriptionAr?p.descriptionAr:p.description;
    const badge=isAr&&p.badgeAr?p.badgeAr:p.badge;
    const msg=t.whatsappMsg(name,p.price,cat,desc);
    const hasImg=!!p.image;
    const bodyFont=isAr?"var(--fa)":"var(--fb)";

    return `
    <div class="product-card fu" style="animation-delay:${i*.09}s;--hover-border:${accent}55;border-color:var(--border)"
      onmouseenter="this.style.borderColor='${accent}55';this.style.boxShadow='0 28px 56px rgba(0,0,0,.45),0 0 0 1px ${accent}33'"
      onmouseleave="this.style.borderColor='var(--border)';this.style.boxShadow='0 4px 18px rgba(0,0,0,.2)'">
      ${hasImg?`
        <div class="card-img-wrap">
          <img class="card-img" src="${p.image}" alt="${name}"/>
          <div class="img-gradient"></div>
          <div style="position:absolute;inset:0;background:radial-gradient(circle at 70% 30%,${accent}22,transparent 60%);opacity:0;transition:opacity .4s" onmouseenter="this.style.opacity=1" onmouseleave="this.style.opacity=0"></div>
          ${badge?`<span class="img-badge" style="background:${accent}dd;color:#080810">${badge}</span>`:''}
        </div>`:''}
      <div class="card-body" style="font-family:${bodyFont}">
        ${!hasImg?`<div class="card-glow" style="background:${accent}"></div>`:''}
        ${!hasImg&&badge?`<span class="badge-pill" style="background:${accent}22;border:1px solid ${accent}55;color:${accent}">${badge}</span>`:''}
        ${!hasImg?`<div class="card-emoji">${p.emoji||"üõçÔ∏è"}</div>`:''}
        <div class="card-cat" style="color:${accent}">${cat}</div>
        <div class="card-name" style="font-family:${isAr?'var(--fa)':'var(--fd)'};font-weight:${isAr?600:400};font-size:${isAr?'20px':'24px'}">${name}</div>
        <div class="card-desc">${desc}</div>
        <div class="card-footer">
          <div class="card-price">
            <span class="price-from">${t.from} </span>
            <span class="price-val" style="color:${accent};font-family:${isAr?'var(--fa)':'var(--fd)'}">$${p.price}</span>
          </div>
          ${!isAdmin?`
            <a href="${waLink(msg)}" target="_blank">
              <button class="btn btn-wa btn-sm" style="font-family:${bodyFont}">
                <svg width="15" height="15" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                ${t.buyNow}
              </button>
            </a>`:`
            <div class="admin-card-actions">
              <button class="btn btn-ghost btn-sm" onclick="openEditModal('${p.id}')">${t.editBtn}</button>
              <button class="btn btn-ghost btn-sm" id="del-${p.id}" onclick="confirmDelete('${p.id}')">${t.deleteBtn}</button>
            </div>`}
        </div>
      </div>
    </div>`;
  }).join('');
}

// ‚îÄ‚îÄ DELETE CONFIRM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function confirmDelete(id){
  const btn=document.getElementById("del-"+id);
  if(!btn) return;
  if(btn.dataset.confirm==="1"){
    products=products.filter(p=>p.id!==id);
    saveProducts();
    showToast(T[lang].productRemoved,"danger");
    render();
  } else {
    btn.textContent=T[lang].confirm;
    btn.className="btn btn-danger btn-sm";
    btn.dataset.confirm="1";
    setTimeout(()=>{ if(btn){btn.textContent=T[lang].deleteBtn;btn.className="btn btn-ghost btn-sm";btn.dataset.confirm="";} },3000);
  }
}

// ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openAddModal(){
  editingId=null;formImage="";
  const t=T[lang];
  document.getElementById("modal-title").textContent=t.productTitle;
  document.getElementById("modal-title").style.fontFamily=lang==="ar"?"var(--fa)":"var(--fd)";
  renderForm(null,t);
  document.getElementById("modal-overlay").classList.add("open");
  document.body.style.overflow="hidden";
}
function openEditModal(id){
  const p=products.find(x=>x.id===id);
  if(!p) return;
  editingId=id;formImage=p.image||"";
  const t=T[lang];
  document.getElementById("modal-title").textContent=t.editTitle;
  document.getElementById("modal-title").style.fontFamily=lang==="ar"?"var(--fa)":"var(--fd)";
  renderForm(p,t);
  document.getElementById("modal-overlay").classList.add("open");
  document.body.style.overflow="hidden";
}
function closeModal(){
  document.getElementById("modal-overlay").classList.remove("open");
  document.body.style.overflow="";
}
document.getElementById("modal-overlay").addEventListener("click",function(e){if(e.target===this)closeModal();});

function renderForm(p,t){
  const isAr=lang==="ar";
  const inp=(id,label,val,ph,type="text")=>`
    <div class="form-group">
      <label class="form-label">${label}</label>
      <input class="form-input" id="f-${id}" type="${type}" placeholder="${ph}" value="${(val||"").replace(/"/g,'&quot;')}" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">
    </div>`;
  const ta=(id,label,val,ph)=>`
    <div class="form-group">
      <label class="form-label">${label}</label>
      <textarea class="form-input" id="f-${id}" rows="3" maxlength="300" placeholder="${ph}" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${val||""}</textarea>
    </div>`;

  // Emoji
  const emojiGrid=EMOJIS.map(em=>`<button type="button" class="emoji-btn${(p?.emoji||'üõçÔ∏è')===em?' active':''}" onclick="selectEmoji('${em}',this)" style="font-size:20px">${em}</button>`).join('');
  // Colors
  const colorGrid=COLORS.map(c=>`<button type="button" class="color-swatch" style="background:${c};outline:${(p?.color||COLORS[0])===c?'3px solid #fff':'none'};outline-offset:2px" onclick="selectColor('${c}',this)"></button>`).join('');

  document.getElementById("modal-body").innerHTML=`
    <div class="form-grid-2">
      <div class="img-uploader">
        <label class="form-label">${t.uploadImage}</label>
        <div id="img-drop" class="drop-zone" onclick="document.getElementById('img-file').click()"
          ondragover="event.preventDefault();this.classList.add('drag')"
          ondragleave="this.classList.remove('drag')"
          ondrop="handleDrop(event)">
          <div class="drop-icon">üñºÔ∏è</div>
          <span class="drop-text" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${t.uploadBtn}</span>
          <span class="drop-hint">${t.uploadHint}</span>
        </div>
        <div id="img-preview" class="img-preview" style="display:none">
          <img id="img-preview-img" src="" alt=""/>
          <div class="img-actions">
            <button class="img-btn-change" onclick="document.getElementById('img-file').click()">${t.changeImg}</button>
            <button class="img-btn-remove" onclick="clearImage()">${t.removeImg}</button>
          </div>
        </div>
        <span class="upload-error" id="upload-err"></span>
        <input type="file" id="img-file" accept="image/png,image/jpeg,image/webp" style="display:none" onchange="handleFile(this.files[0])">
      </div>
      <div>
        ${inp('name',t.labelNameEN,p?.name,t.namePH)}
        ${inp('nameAr',t.labelNameAR,p?.nameAr,'ŸÖÿ´ŸÑÿßŸã: ÿ≥ÿßÿπÿ©')}
        ${inp('price',t.labelPrice,p?.price,t.pricePH,'number')}
        ${inp('badge',t.labelBadgeEN,p?.badge,t.badgePH)}
        ${inp('badgeAr',t.labelBadgeAR,p?.badgeAr,'ÿ¨ÿØŸäÿØ / ÿ±ÿßÿ¶ÿ¨')}
      </div>
    </div>
    <div class="form-grid-2">
      ${inp('cat',t.labelCatEN,p?.category,t.catPH)}
      ${inp('catAr',t.labelCatAR,p?.categoryAr,'ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™')}
    </div>
    ${ta('desc',t.labelDescEN,p?.description,t.descPH)}
    ${ta('descAr',t.labelDescAR,p?.descriptionAr,'ÿµŸÅ ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿ®ÿßŸÑÿπÿ±ÿ®Ÿä‚Ä¶')}
    <div class="form-group">
      <label class="form-label">${t.labelIcon}</label>
      <div class="emoji-grid" id="emoji-grid">${emojiGrid}</div>
    </div>
    <div class="form-group">
      <label class="form-label">${t.labelColor}</label>
      <div class="color-grid" id="color-grid">${colorGrid}</div>
    </div>
    <div class="form-actions">
      <button class="btn btn-ghost btn-md" onclick="closeModal()" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${t.cancel}</button>
      <button class="btn btn-gold btn-md" onclick="saveProduct()" style="font-family:${isAr?'var(--fa)':'var(--fb)'}">${editingId?t.saveChanges:t.addProduct}</button>
    </div>`;

  // Restore image
  if(formImage) showPreview(formImage);

  // Store selected emoji/color
  document.getElementById("modal-body").dataset.emoji=p?.emoji||"üõçÔ∏è";
  document.getElementById("modal-body").dataset.color=p?.color||COLORS[0];
}

function selectEmoji(em,btn){
  document.querySelectorAll(".emoji-btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  document.getElementById("modal-body").dataset.emoji=em;
}
function selectColor(c,btn){
  document.querySelectorAll(".color-swatch").forEach(b=>{b.style.outline="none";});
  btn.style.outline="3px solid #fff";
  document.getElementById("modal-body").dataset.color=c;
}

function handleFile(file){
  if(!file) return;
  const err=document.getElementById("upload-err");
  err.textContent="";
  if(!file.type.match(/image\/(png|jpeg|webp|jpg)/)){err.textContent="Only PNG, JPG, WEBP allowed.";return;}
  if(file.size>5*1024*1024){err.textContent="Max 5MB.";return;}
  const reader=new FileReader();
  reader.onload=e=>{formImage=e.target.result;showPreview(formImage);};
  reader.readAsDataURL(file);
}
function handleDrop(e){
  e.preventDefault();
  document.getElementById("img-drop").classList.remove("drag");
  handleFile(e.dataTransfer.files[0]);
}
function showPreview(src){
  document.getElementById("img-drop").style.display="none";
  const prev=document.getElementById("img-preview");
  prev.style.display="block";
  document.getElementById("img-preview-img").src=src;
}
function clearImage(){
  formImage="";
  document.getElementById("img-drop").style.display="flex";
  document.getElementById("img-preview").style.display="none";
  document.getElementById("img-preview-img").src="";
  const fi=document.getElementById("img-file");
  if(fi) fi.value="";
}

function g(id){const el=document.getElementById("f-"+id);return el?el.value.trim():"";}
function saveProduct(){
  const name=g("name");const price=g("price");const description=g("desc");
  if(!name||!price||!description) return;
  const body=document.getElementById("modal-body");
  const prod={
    id:editingId||Date.now().toString(),
    name,nameAr:g("nameAr"),
    category:g("cat"),categoryAr:g("catAr"),
    price,
    description,descriptionAr:g("descAr"),
    badge:g("badge"),badgeAr:g("badgeAr"),
    emoji:body.dataset.emoji||"üõçÔ∏è",
    color:body.dataset.color||COLORS[0],
    image:formImage,
  };
  if(editingId) products=products.map(p=>p.id===editingId?prod:p);
  else products=[...products,prod];
  saveProducts();
  closeModal();
  showToast(editingId?T[lang].productUpdated:T[lang].productAdded);
  render();
}

// ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showLogin(){
  document.getElementById("login-screen").classList.add("open");
  document.body.style.overflow="hidden";
}
function hideLogin(){
  document.getElementById("login-screen").classList.remove("open");
  document.body.style.overflow="";
  document.getElementById("login-user").value="";
  document.getElementById("login-pw").value="";
  document.getElementById("login-error").classList.remove("show");
}
function doLogin(){
  const u=document.getElementById("login-user").value;
  const p=document.getElementById("login-pw").value;
  const err=document.getElementById("login-error");
  const btn=document.getElementById("login-btn");
  btn.textContent="‚Ä¶";btn.disabled=true;
  setTimeout(()=>{
    if(u===ADMIN_CREDS.username&&p===ADMIN_CREDS.password){
      isAdmin=true;hideLogin();render();
    } else {
      err.textContent=T[lang].loginTitle==="Admin Portal"?"Invalid credentials. Access denied.":"ÿ®ŸäÿßŸÜÿßÿ™ ÿÆÿßÿ∑ÿ¶ÿ©. ÿßŸÑŸàÿµŸàŸÑ ŸÖÿ±ŸÅŸàÿ∂.";
      err.classList.add("show");
    }
    btn.textContent=T[lang].signIn;btn.disabled=false;
  },800);
}
function exitAdmin(){isAdmin=false;render();}
function togglePw(){
  const inp=document.getElementById("login-pw");
  const btn=document.getElementById("pw-eye");
  if(inp.type==="password"){inp.type="text";btn.textContent="üôà";}
  else{inp.type="password";btn.textContent="üëÅÔ∏è";}
}

// ‚îÄ‚îÄ LANG / CAT / SEARCH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function toggleLang(){lang=lang==="en"?"ar":"en";currentCat="All";searchQuery="";render();document.getElementById("search-input").value="";}
function setCat(c){currentCat=c;render();}
document.getElementById("search-input").addEventListener("input",function(){searchQuery=this.value;render();});

// ‚îÄ‚îÄ WA BUBBLE TIMER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
setTimeout(()=>document.getElementById("wa-bubble").classList.add("show"),2200);

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
loadProducts();
render();
</script>
</body>
</html>
